<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Dial M for Maintainability</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/night.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">

		<style>
			.flex {
				display: flex !important;
			}

			.two-columns {
				display: flex !important;
				gap: 12px;
			}

			.two-columns > div {
				flex: 1;
			}

			.absolute {
				position: absolute;
			}

			.highlight-red-border {
				border: 4px solid #ff2c2d;
			}

			.cron::before {
				content: "0 0 * * *";
				position: absolute;
    			left: 0;
    			right: 0;
    			font-size: 24px;
    			top: -45px;
    			color: #ff2c2d;
			}

			.red {
				color: #ff2c2d;
			}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-transition="none" id="title">
					<h2>Dial <b style="color:#ff2c2d">M</b> for Maintainability</h2>
					<p>Part I</p>
					<aside class="notes">Всем привет, очень рад вас всех видеть здесь! 
						Сегодня я хочу рассказать вам о Maintainability или Поддерживаемости кода и решений.
					</aside>
				</section>
				<section data-transition="none">
					<section data-transition="none" data-auto-animate id="self-introduction">
						<h2>Let's get acquainted!</h2>
					</section>
					<section data-transition="none" data-auto-animate id="self-introduction-info">
						<h2>Let's get acquainted!</h2>
						<aside class="notes">Для начала давайте познакомимся!...
							(Expertise)...и практически всегда так или иначе работаю с легаси кодом (в основном, нехорошем). 
							И это одна из причин, почему я в итоге решил посвятить отдельный доклад про Поддерживаемость кода...
						</aside>
						<div style="display: flex; gap: calc(var(--r-block-margin) * 2); align-items: center;">
							<img src="./assets/r.png" alt="" height="300px">
							<table style="font-size: 30px;">
								<tbody>
									<tr>
										<td style="color: var(--r-link-color);">First Name:</td>
										<td>Azat</td>
									</tr>
									<tr>
										<td style="color: var(--r-link-color);">Last Name:</td>
										<td>Davliatshin</td>
									</tr>
									<tr>
										<td style="color: var(--r-link-color);">Experience:</td>
										<td>9 years in JS development</td>
									</tr>
									<tr>
										<td style="color: var(--r-link-color);">Expertise:</td>
										<td>FE, BE, Clouds, Mobile, Legacy</td>
									</tr>
									<tr>
										<td style="color: var(--r-link-color);">Criminal Records:</td>
										<td>Had to force push changes into production branch</td>
									</tr>
								</tbody>
							</table>
						</div>
					</section>
				</section>
				<section data-transition="none">
					<section data-transition="none" data-auto-animate data-auto-animate-id="two" id="agenda">
						<h2>Agenda</h2>
					</section>
					<section data-transition="none" data-auto-animate data-auto-animate-id="two" id="agenda-info">
						<h2>Agenda</h2>
						<ul>
							<li class="fragment fade-in">The task definition</li>
							<li class="fragment fade-in">Straightforward solution: pros and cons</li>
							<li class="fragment fade-in">Maintainability <- QA <- ASR</li>
							<li class="fragment fade-in">Maintainability Tactics</li>
							<li class="fragment fade-in">Design</li>
							<li class="fragment fade-in">Tools</li>
						</ul>
						<aside class="notes">...хотя изначально я просто хотел рассказать об интересном способе решить одну очень простую задачу.</aside>
						<aside class="notes">
							В итоге, сегодня мы посмотрим, что за задача такая, обсудим ее "решение в лоб", какие плюсы и минусы у этого решения,
							плавно перейдем к тому, что же такое Maintainability, заодно зацепив понятие QA и ASR, ознакомимся с основными тактиками для достижения требований
							по Поддерживаемости кода, как их спроектировать и какие инструменты для обратной связи использовать.
						</aside>
					</section>
				</section>
				<section data-transition="none">
					<section data-transition="none" id="task-def">
						<h2>The task definition</h2>
						<aside class="notes">
							Итак, давайте начнем с того, что от нас хочет бизнес
						</aside>
					</section>
					<section data-transition="none" id="task-def-overview">
						<img src="./assets/task_def.svg" width="85%"/>
						<aside class="notes">
							А бизнес хочет автомтизировать процесс анализа данных, полученных при проведении маркетинговых компаний.
							(Детально) Иными словами, ...
						</aside>
					</section>
					<section data-transition="none" id="task-def-marketing">
						<img src="./assets/task_def.svg" width="85%"/>
						<div class="absolute highlight-red-border" style="left: 76px;right: 76px;top: 469px;bottom: 37px;"></div>
						<aside class="notes">
							Есть команда маркетологов, они работают над какими-нибудь кампаниями, внешнними/внутренними - неважно
							Маркетологи используют какую-то систему для менеджемента: заносит входные и выходные, например, список участников митапа.
						</aside>
					</section>
					<section data-transition="none" id="task-def-data-analytics">
						<img src="./assets/task_def.svg" width="85%"/>
						<div class="absolute highlight-red-border" style="left: 76px;right: 76px;top: 25px;bottom: 503px;"></div>
						<aside class="notes">
							С другой стороны есть команда дата аналитиков, который используют собранные маркетологами данные для формирования тех или иных тенденций и отчетов.
						</aside>
					</section>
					<section data-transition="none" id="task-def-solution">
						<img src="./assets/task_def.svg" width="85%"/>
						<div class="absolute highlight-red-border" style="left: 76px;right: 76px;top: 226px;bottom: 260px;"></div>
						<aside class="notes">
							Наша задача: создать промежуточное звено, которое бы позволило автомитизировать процесс передачи данных от маркетологов к дата аналитикам
						</aside>
					</section>
					<section data-transition="none" id="solution-overview">
						<img src="./assets/Solution Context Diagram (1).svg" style="transform: scale(1.3);"/>
					</section>
					<section data-transition="none" id="solution-cron">
						<img src="./assets/Solution Context Diagram (1).svg" style="transform: scale(1.3);"/>
						<div class="absolute highlight-red-border cron" style="top: 328px; bottom: 53px; left: -65px; right: 897px"></div>
					</section>
					<section data-transition="none" id="solution-lambda">
						<img src="./assets/Solution Context Diagram (1).svg" style="transform: scale(1.3);"/>
						<div class="absolute highlight-red-border" style="top: 328px; bottom: 53px; left: 142px; right: 686px"></div>
					</section>
					<section data-transition="none" id="solution-storage">
						<img src="./assets/Solution Context Diagram (1).svg" style="transform: scale(1.3);"/>
						<div class="absolute highlight-red-border" style="top: 328px; bottom: 53px; left: 350px; right: 481px"></div>
					</section>
				</section>
				<section data-transition="none" id="straightforward-solution">
					<section data-transition="none" id="straightforward-solution-title">
						<h2>Straightforward solution</h2>
						<aside class="notes">
							Перейдем к реализации (естественно в виде псевдокода)
						</aside>
					</section>
					<section data-transition="none" id="straightforward-solution-overview" style="transform: scale(1.3);">
						<pre style="width: 100%; margin: 0;">
<code data-line-numbers  style="width: 100%;">import { json2csv } from 'json-2-csv';
import { PutObjectCommand, S3Client } from "@aws-sdk/client-s3";

const urlAPI = "...";
const tokenAPI = "...";
const options = {
	headers: '' // use tokenAPI
};

const fetchResponse = await fetch(urlAPI, options);
const data = fetchResponse.json();

const csv = await converter.json2csv(data);

const client = new S3Client({});
const command = new PutObjectCommand({});
await client.send(command);
							</code></pre>
					</section>
					<section style="transform: scale(1.3);" id="straightforward-solution-analysis">
						<pre style="width: 100%; margin: 0;">
<code data-line-numbers="4-8|10-11|13|15-17"  style="width: 100%;">import { json2csv } from 'json-2-csv';
import { PutObjectCommand, S3Client } from "@aws-sdk/client-s3";

const urlAPI = "...";
const tokenAPI = "...";
const options = {
	headers: '' // use tokenAPI
};

const fetchResponse = await fetch(urlAPI, options);
const data = fetchResponse.json();

const csv = await converter.json2csv(data);

const client = new S3Client({});
const command = new PutObjectCommand({});
await client.send(command);
							</code></pre>
					</section>
					<section id="straightforward-solution-coverage" style="transform: scale(1.3);">
						<img src="./assets/100.png" style="position: absolute; left: 50%; z-index: 1; transform: translateX(-50%);"/>
						<pre style="width: 100%; margin: 0;">
<code data-line-numbers  style="width: 100%; filter: blur(3px);">import { json2csv } from 'json-2-csv';
import { PutObjectCommand, S3Client } from "@aws-sdk/client-s3";

const urlAPI = "...";
const tokenAPI = "...";
const options = {
	headers: '' // use tokenAPI
};

const fetchResponse = await fetch(urlAPI, options);
const data = fetchResponse.json();

const csv = await converter.json2csv(data);

const client = new S3Client({});
const command = new PutObjectCommand({});
await client.send(command);
							</code></pre>
					</section>
					<section class="two-columns" id="straightforward-solution-pros-and-cons">
						<aside class="notes">Давайте проанализируем это решение, плюсы и минусы. С плюсами все понятно...
							Минусы: как вы думаете какие есть? (1 минута) Я выделил вот такие, давайте по порядку поговорим
						</aside>
						<div>
							<h3>PROS</h3>
							<ul>
								<li class="fragment fade-in">Quick</li>
								<li class="fragment fade-in">Simple</li>
								<li class="fragment fade-in">Plain</li>
							</ul>
						</div>
						<div>
							<h3>CONS</h3>
							<ul class="fragment fade-in">
								<li>Change request is time consuming</li>
								<li>Code dublication</li>
								<li>Poor error handling</li>
							</ul>
						</div>
					</section>
					<section id="straightforward-solution-cons-cr">
						<h4 style="margin-bottom: 100px;">Change request is time consuming</h4>
						<pre style="width: 100%; margin: 0; transform: scale(1.4);">
							<code style="width: 100%;">import { json2csv } from 'json-2-csv';
...
// This package is deprecated, it should be replaced
const csv = await converter.json2csv(data);
...
</code>
						</pre>
					</section>
					<section id="straightforward-solution-cons-dry">
						<h4>Code dublication</h4>
						<p>Additional functionality request: launch task manually from <span class="red">UI</span>, there are options for <span class="red">storages</span></p>
					</section>
					<section id="straightforward-solution-cons-errors">
						<h4 style="margin-bottom: 100px;">Poor errors handling</h4>
						<pre style="width: 100%; margin: 0; transform: scale(1.4);">
							<code style="width: 100%;">try {
...
}
catch (exception) {
	//TODO: try to understand what exactly throws this exception
}
</code>
						</pre>
					</section>
					<section data-transition="none">
						<aside class="notes">Подытожив, получаем, что наше решение не поддерживаемое. "Но как же так, мы создали его 10 минут назад?"
							спросите вы. "Мы его продумали, все переменные названы грамотно, все покрыто тестами, читаемо - где код не поддерживаемый?"
							И вы будете правы с одной стороны, а с другой надо для начала посмотреть на определение.
						</aside>
						<h3>Solution is not maintainable</h3>
					</section>
				</section>
				<section id="terms">
					<section data-transition="none" id="terms-intro">
						<h2>Maintainability</h2>
						<aside class="notes">Для того, чтобы полностью понять, что это такое надо сделать 2 шага назад и поговорить для начала...</aside>
					</section>
					<section data-transition="none" data-auto-animate data-auto-animate-id="asr" id="terms-asr-intro">
						<h3>ASR</h3>
						<p>Architecturally significant requirements</p>
						<aside class="notes">...требования, а точнее Архитектурно значимые требования (след слайд)</aside>
					</section>
					<section data-transition="none" data-auto-animate data-auto-animate-id="asr" id="terms-asr">
						<h3>ASR</h3>
						<img src="./assets/Picture 1.png" alt="" >
						<aside class="notes">дать неформальное определение, почему архитектурные</aside>
					</section>
					<section data-auto-animate data-auto-animate-id="qa" id="terms-qa-intro">
						<h3>QA</h3>
						<p>Quality attributes</p>
						<aside class="notes">Давайте поговорим про аттрибуты качества</aside>
					</section>
					<section data-auto-animate data-auto-animate-id="qa" id="terms-qa-def">
						<h3>QA</h3>
						<blockquote>
							A QUALITY ATTIRBUTE (QA) is a <span class="red">measurable</span> or <span class="red">testable</span>
property of a system that is used to indicate how <span class="red">well</span> the
system <span class="red">satisfies</span> the needs of its stakeholders
						</blockquote>
						<aside class="notes">
							аттрибуты качества - это такие свойства системы, которые а) отражают как хорошо система удовл-т требования 
							и б) можно каким-то образом померить, оценить
						</aside>
					</section>
					<section data-auto-animate data-auto-animate-id="qa" id="terms-qa-list">
						<h3>QA</h3>
						<ul>
							<li class="fragment fade-in">Performance</li>
							<li class="fragment fade-in">Security</li>
							<li class="fragment fade-in">Scalability</li>
							<li class="fragment fade-in">Availability</li>
							<li class="fragment fade-in">Usability</li>
							<li class="fragment fade-in">Reliability</li>
							<li class="fragment fade-in red">Maintainability</li>
							<li class="fragment fade-in">...</li>
						</ul>
						<aside class="notes">
							Список аттрибутов качества намного длиннее, зависит от способа классификаций, а также фантазий команды разработчиков
							Тем не менее, с некоторыми вы так или иначе сталкивались и даже учатсовали в реализации решения для достижения целей по аттрибутам качества.
						</aside>
					</section>
					<section data-auto-animate data-auto-animate-id="Maintainability" id="terms-maintainability-intro">
						<h3>Maintainability</h3>
						(Modifiability)
						<aside class="notes">Итак, мы готовы перейти к определению Maintainability, еше называют Modifiability</aside>
					</section>
					<section data-auto-animate data-auto-animate-id="Maintainability" id="terms-maintainability-def">
						<h3>Maintainability</h3>
						<blockquote>QA deals with <span class="red">change</span> and the <span class="red">cost</span> in time or money <span class="red">of making a change</span>,
							including the extent to which this modification affects other functions or quality
							attributes. (SEI)</blockquote>
						<aside class="notes">
							Поддерживаемость - это аттрибут качества, который определяет насколько затратно будет внести какие-то изменения, 
							а также как эти изменения повлияют на решение.
							Иными словами, решение или код можно назвать хорошо поддерживаемым, если изменения вносятся относительно легко и быстро и без тяжкий последствий
						</aside>
					</section>
				</section>
				<section id="tactics">
					<section data-auto-animate data-auto-animate-id="tactics" id="tactics-intro">
						<h2>Maintainability Tactics</h2>
						<aside class="notes">
							С определением разобрались, давайте теперь перейдем к вопросу, а что делать, чтобы улучшить Поддерживаемость?
							Для этих целей существует набор тактик или набор решений проектирования, применение которых повлияет на достижение аттрибутов качества.
						</aside>
					</section>
					<section data-auto-animate data-auto-animate-id="tactics" id="tactics-overview">
						<h2>Maintainability Tactics</h2>
						<img src="./assets/tactics.png"/>
						<aside class="notes">
							Что касается тактик поддерживаемости, то все они направлены ради одной цели: сделать части кода максимально независимыми
						</aside>
					</section>
					<section id="tactics-defer-binding">
						<h4 style="margin-bottom: 50px;">Defer Binding</h4>
						<pre style="width: 100%; margin: 0;">
							<code data-line-numbers  style="width: 100%; transform: scale(1.3);">//no magic values!
const urlAPI = process.env.managementToolApiUrl;
const tokenAPI = process.env.token;</code></pre>
					</section>
					<section id="tactics-split-code">
						<h4>Split the code</h4>
						<pre style="width: 100%; margin: 0;">
							<code data-line-numbers="1-3|5-6|8-11"  style="width: 100%;">// API
const fetchResponse = await fetch(urlAPI, options);
const data = fetchResponse.json();

// Converter
const csv = await converter.json2csv(data);

// Storage
const client = new S3Client({});
const command = new PutObjectCommand({});
await client.send(command);
</code></pre>
					</section>
					<section id="tactics-cohesion-coupling">
						<h3>Cohesion & Coupling</h3>
						<img src="./assets/cohesion&coupling.png"/>
					</section>
				</section>
				<section id="design">
					<section id="design-intro">
						<h2>Design</h2>
						<aside class="notes">
							Итак, мы поговорили о том, что такое Поддерживаемость, что делать, чтобы улучшить этот показатель.
							Теперь поговорим про то, а как это делать? То есть, мы знаем, что надо сплитить код на части и не на обум, а учитывая 
							сцепление и связность этих модулей. А как это делать, есть ли какие-нибудь практики?
						</aside>
					</section>
					<section class="two-columns" id="design-list">
						<div>
							<h3 class="fragment">Design Principles</h3>
							<ul>
								<li class="fragment">SOLID</li>
								<li class="fragment">IoC</li>
							</ul>
						</div>
						<div>
							<h3 class="fragment">Patterns, Techniques</h3>
							<ul>
								<li class="fragment">DI</li>
							</ul>
						</div>
						<aside class="notes">
							Есть :) И это те самые вещи, что забываются после прохождения технического интервью:
							Принципы проектирования, от KISS до SOLID, и всевозможные паттерны, которые помогут вам не только решить какую-то задачу, но и 
							подсказать, как это реализовать в коде.
						</aside>
					</section>
				</section>
				<section id="tools">
					<section id="tools-overview">
						<h2>"Tools"</h2>
						<aside class="notes">
							Итак, мы изучили аттрибут качества, узнали как его улучшать, что для этого делать, осталость только понять, как это оценить.
							И вот тут вопрос: если вопрос как оценить Performance точно не вызывает проблем, то как быть с Поддерживаемостью? 
							Какие инструменты мы можем использовать, чтобы посмотреть и сказать, что все хорошо или все очень плохо?
						</aside>
					</section>
					<section id="tools-pr">
						<h3>Development Guidelines</h3>
						<h3 class="fragment fade-in">Code Review</h3>
					</section>
					<section id="tools-static-code-analysis">
						<h3>Static code analysis</h3>
						<ul>
							<li class="fragment fade-in">ESLint</li>
							<li class="fragment fade-in">Prettier</li>
							<li class="fragment fade-in">SonarQube</li>
							<li class="fragment fade-in">...</li>
							<li class="fragment fade-in">Typescript*</li>
						</ul>
					</section>
					<section id="tools-unit-tests"  data-auto-animate  data-auto-animate-id="tests">
						<h3>Tests</h3>
					</section>
					<section id="tools-unit-tests"  data-auto-animate  data-auto-animate-id="tests">
						<h3>Tests</h3>
						<img src="./assets/tests.png" width="100%">
					</section>
				</section>
				<section>
					<h2>Thank you!</h2>
					<p>To be continued</p>
					<aside class="notes">
						Ну что же, надеюсь, было интересно и полезно, на это у меня сегодня все, в следующей части я буду рефакторить решение таким образом, чтобы
						требуемые изменения не влекли за собой катастрофу вселенского масштаба.
						Спасибо!
					</aside>
				</section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
				transition: 'none',
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ],
				slideNumber: 'c/t'
			}).then(() => {
				const slideNumbersDOM = document.querySelector('.slide-number');
				slideNumbersDOM.style.fontSize = '20px';
				slideNumbersDOM.style.left = '24px';
				slideNumbersDOM.style.right = 'auto';
			})
		</script>
	</body>
</html>
